{% extends 'orders/base.html' %}
{% load static %}

{% block title %}
<title>Редактирование приказа</title>
{% endblock %}

{% block content %}
<h1>Редактирование приказа</h1>
<div class="add_form">
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <div class="button_container">
            <button class="pp_button" type="submit">Сохранить</button>
            <button class="pp_button" id="cancelButton">Отмена</button>
        </div>
    </form>
</div>
{% endblock %}

{% block script %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Отключаем встроенную валидацию браузера для поля date
        var dateInput = document.querySelector('input[type="date"]');
        if (dateInput) {
            dateInput.setAttribute('novalidate', true);
        }

        // Обработчик для кнопки отмены
        var cancelButton = document.querySelector('#cancelButton');
        if (cancelButton) {
            cancelButton.addEventListener('click', function () {
                window.location.href = "{% url 'orders:index' %}";
            });
        }
    });
</script>
{% endblock %}